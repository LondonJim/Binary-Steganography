describe ('WriteToImage', function() {

  beforeEach(function(){
    writeToImage = new WriteToImage
  })

  it ('entered string converts to binary array', function() {
    spyOn(writeToImage, 'write')
    expect(writeToImage.convert("Hello")).toEqual([0, 1, 0, 0, 1, 0, 0, 0,
                                                   0, 1, 1, 0, 0, 1, 0, 1,
                                                   0, 1, 1, 0, 1, 1, 0, 0,
                                                   0, 1, 1, 0, 1, 1, 0, 0,
                                                   0, 1, 1, 0, 1, 1, 1, 1,
                                                   1, 0, 1, 0, 0, 1, 1, 1,
                                                   1, 0, 1, 0, 0, 1, 1, 1,
                                                   1, 0, 1, 0, 0, 1, 1, 1])
  })

  it ('binary array is pushed to image data', function() {
    let mockBinIntArray = [0, 1, 0, 1, 0, 1, 0, 0,
                           0, 1, 1, 0, 1, 0, 0, 0,
                           0, 1, 1, 0, 1, 0, 0, 0,
                           0, 1, 1, 0, 1, 0, 0, 0]

    let mockData = [244, 244, 244, 255, 244, 244, 244, 255,
                    244, 244, 244, 255, 244, 244, 244, 255,
                    244, 244, 244, 255, 244, 244, 244, 255,
                    244, 244, 244, 255, 244, 244, 244, 255,

                    244, 244, 244, 255, 244, 244, 244, 255,
                    244, 244, 244, 255, 244, 244, 244, 255,
                    244, 244, 244, 255, 244, 244, 244, 255,
                    244, 244, 244, 255, 244, 244, 244, 255,

                    244, 244, 244, 255, 244, 244, 244, 255,
                    244, 244, 244, 255, 244, 244, 244, 255,
                    244, 244, 244, 255, 244, 244, 244, 255,
                    244, 244, 244, 255, 244, 244, 244, 255,

                    244, 244, 244, 255, 244, 244, 244, 255,
                    244, 244, 244, 255, 244, 244, 244, 255,
                    244, 244, 244, 255, 244, 244, 244, 255,
                    244, 244, 244, 255, 244, 244, 244, 255]

    let image = Â { width: 4,
                   height: 8,
                   getImageData: function() {return {data: (mockData)}},
                   putImageData: function(){}
                 }

    expect(writeToImage.write(mockBinIntArray, image, 4, 8))
      .toEqual([244, 244, 244, 255, 245, 244, 244, 255,
                244, 244, 244, 255, 245, 244, 244, 255,
                244, 244, 244, 255, 245, 244, 244, 255,
                244, 244, 244, 255, 244, 244, 244, 255,

                244, 244, 244, 255, 245, 244, 244, 255,
                245, 244, 244, 255, 244, 244, 244, 255,
                245, 244, 244, 255, 244, 244, 244, 255,
                244, 244, 244, 255, 244, 244, 244, 255,

                244, 244, 244, 255, 245, 244, 244, 255,
                245, 244, 244, 255, 244, 244, 244, 255,
                245, 244, 244, 255, 244, 244, 244, 255,
                244, 244, 244, 255, 244, 244, 244, 255,

                244, 244, 244, 255, 245, 244, 244, 255,
                245, 244, 244, 255, 244, 244, 244, 255,
                245, 244, 244, 255, 244, 244, 244, 255,
                244, 244, 244, 255, 244, 244, 244, 255])
  })
})
